{"version":3,"file":"initService.js","sources":["src/services/initService.ts"],"sourceRoot":"/","sourcesContent":["// server/src/services/initService.ts\nimport prisma from \"../lib/prisma.js\";\n\nexport async function getUserWithSettingsById(userId: string) {\n  return prisma.user.findUnique({\n    where: { id: userId },\n    select: {\n      id: true,\n      firstName: true,\n      lastName: true,\n      username: true,\n      email: true,\n      signature: true,\n      DOB: true,\n      truckView: true,\n      tascoView: true,\n      laborView: true,\n      mechanicView: true,\n      permission: true,\n      image: true,\n      // startDate: true,\n      terminationDate: true,\n      accountSetup: true,\n      clockedIn: true,\n      companyId: true,\n      // passwordResetTokenId: true,\n      // workTypeId: true,\n      middleName: true,\n      secondLastName: true,\n      lastSeen: true,\n      accountSetupToken: true,\n      Contact: true,\n      // Equipment: true,\n      // FCMToken: true,\n      // FormApprovals: true,\n      // FormSubmissions: true,\n      // Jobsite: true,\n      // MaintenanceLogs: true,\n      // NotificationRead: true,\n      // NotificationResponse: true,\n      // PasswordResetTokens: true,\n      // TimeSheets: true,\n      // TimeSheetChanges: true,\n      // topicSubscriptions: true,\n      // Company: true,\n      UserSettings: true, // includes settings\n      // Crews: true,\n      // password: false // password is excluded by not listing it\n    },\n  });\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;AACrC,OAAO,MAAM,MAAM,kBAAkB,CAAC;AAEtC,MAAM,CAAC,KAAK,UAAU,uBAAuB,CAAC,MAAc;IAC1D,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAC5B,KAAK,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE;QACrB,MAAM,EAAE;YACN,EAAE,EAAE,IAAI;YACR,SAAS,EAAE,IAAI;YACf,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,KAAK,EAAE,IAAI;YACX,SAAS,EAAE,IAAI;YACf,GAAG,EAAE,IAAI;YACT,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,IAAI;YAClB,UAAU,EAAE,IAAI;YAChB,KAAK,EAAE,IAAI;YACX,mBAAmB;YACnB,eAAe,EAAE,IAAI;YACrB,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,8BAA8B;YAC9B,oBAAoB;YACpB,UAAU,EAAE,IAAI;YAChB,cAAc,EAAE,IAAI;YACpB,QAAQ,EAAE,IAAI;YACd,iBAAiB,EAAE,IAAI;YACvB,OAAO,EAAE,IAAI;YACb,mBAAmB;YACnB,kBAAkB;YAClB,uBAAuB;YACvB,yBAAyB;YACzB,iBAAiB;YACjB,yBAAyB;YACzB,0BAA0B;YAC1B,8BAA8B;YAC9B,6BAA6B;YAC7B,oBAAoB;YACpB,0BAA0B;YAC1B,4BAA4B;YAC5B,iBAAiB;YACjB,YAAY,EAAE,IAAI,EAAE,oBAAoB;YACxC,eAAe;YACf,4DAA4D;SAC7D;KACF,CAAC,CAAC;AACL,CAAC","debug_id":"4e4ff51f-57e0-5b1f-91c2-2986e700371a"}