{"version":3,"file":"initService.js","sources":["src/services/initService.ts"],"sourceRoot":"/","sourcesContent":["// server/src/services/initService.ts\nimport { PrismaClient } from \"@prisma/client\";\nconst prisma = new PrismaClient();\n\nexport async function getUserWithSettingsById(userId: string) {\n  return prisma.user.findUnique({\n    where: { id: userId },\n    select: {\n      id: true,\n      firstName: true,\n      lastName: true,\n      username: true,\n      email: true,\n      signature: true,\n      DOB: true,\n      truckView: true,\n      tascoView: true,\n      laborView: true,\n      mechanicView: true,\n      permission: true,\n      image: true,\n      startDate: true,\n      terminationDate: true,\n      accountSetup: true,\n      clockedIn: true,\n      companyId: true,\n      passwordResetTokenId: true,\n      workTypeId: true,\n      middleName: true,\n      secondLastName: true,\n      lastSeen: true,\n      accountSetupToken: true,\n      Contact: true,\n      Equipment: true,\n      FCMToken: true,\n      FormApprovals: true,\n      FormSubmissions: true,\n      Jobsite: true,\n      MaintenanceLogs: true,\n      NotificationRead: true,\n      NotificationResponse: true,\n      PasswordResetTokens: true,\n      TimeSheets: true,\n      TimeSheetChanges: true,\n      topicSubscriptions: true,\n      Company: true,\n      UserSettings: true, // includes settings\n      Crews: true,\n      // password: false // password is excluded by not listing it\n    },\n  });\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;AACrC,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAC9C,MAAM,MAAM,GAAG,IAAI,YAAY,EAAE,CAAC;AAElC,MAAM,CAAC,KAAK,UAAU,uBAAuB,CAAC,MAAc;IAC1D,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QAC5B,KAAK,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE;QACrB,MAAM,EAAE;YACN,EAAE,EAAE,IAAI;YACR,SAAS,EAAE,IAAI;YACf,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI;YACd,KAAK,EAAE,IAAI;YACX,SAAS,EAAE,IAAI;YACf,GAAG,EAAE,IAAI;YACT,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,IAAI;YAClB,UAAU,EAAE,IAAI;YAChB,KAAK,EAAE,IAAI;YACX,SAAS,EAAE,IAAI;YACf,eAAe,EAAE,IAAI;YACrB,YAAY,EAAE,IAAI;YAClB,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,IAAI;YACf,oBAAoB,EAAE,IAAI;YAC1B,UAAU,EAAE,IAAI;YAChB,UAAU,EAAE,IAAI;YAChB,cAAc,EAAE,IAAI;YACpB,QAAQ,EAAE,IAAI;YACd,iBAAiB,EAAE,IAAI;YACvB,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,QAAQ,EAAE,IAAI;YACd,aAAa,EAAE,IAAI;YACnB,eAAe,EAAE,IAAI;YACrB,OAAO,EAAE,IAAI;YACb,eAAe,EAAE,IAAI;YACrB,gBAAgB,EAAE,IAAI;YACtB,oBAAoB,EAAE,IAAI;YAC1B,mBAAmB,EAAE,IAAI;YACzB,UAAU,EAAE,IAAI;YAChB,gBAAgB,EAAE,IAAI;YACtB,kBAAkB,EAAE,IAAI;YACxB,OAAO,EAAE,IAAI;YACb,YAAY,EAAE,IAAI,EAAE,oBAAoB;YACxC,KAAK,EAAE,IAAI;YACX,4DAA4D;SAC7D;KACF,CAAC,CAAC;AACL,CAAC","debug_id":"db0d77ce-c72e-51c9-8720-6e5e1ff5c2db"}