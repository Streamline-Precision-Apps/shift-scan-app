{"version":3,"file":"UserSettings.js","sources":["src/models/UserSettings.ts"],"sourceRoot":"/","sourcesContent":["import prisma from \"../lib/prisma.js\";\nimport type { Prisma } from \"../../generated/prisma/index.js\";\n\nexport class UserSettingsModel {\n  static async findByUserId(userId: string) {\n    return prisma.userSettings.findUnique({\n      where: { userId },\n    });\n  }\n\n  static async update(\n    userId: string,\n    data: Partial<Prisma.UserSettingsUpdateInput>\n  ) {\n    // Only copy known fields\n    const cleanData: Partial<Prisma.UserSettingsUpdateInput> = {};\n    if (typeof data.language === \"string\") cleanData.language = data.language;\n    if (typeof data.generalReminders === \"boolean\")\n      cleanData.generalReminders = data.generalReminders;\n    if (typeof data.personalReminders === \"boolean\")\n      cleanData.personalReminders = data.personalReminders;\n    if (typeof data.cameraAccess === \"boolean\")\n      cleanData.cameraAccess = data.cameraAccess;\n    if (typeof data.locationAccess === \"boolean\")\n      cleanData.locationAccess = data.locationAccess;\n    if (typeof data.cookiesAccess === \"boolean\")\n      cleanData.cookiesAccess = data.cookiesAccess;\n    return prisma.userSettings.update({\n      where: { userId },\n      data: cleanData,\n    });\n  }\n}\n\nexport default UserSettingsModel;\n"],"names":[],"mappings":";;AAAA,OAAO,MAAM,MAAM,kBAAkB,CAAC;AAGtC,MAAM,OAAO,iBAAiB;IAC5B,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,MAAc;QACtC,OAAO,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC;YACpC,KAAK,EAAE,EAAE,MAAM,EAAE;SAClB,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,MAAM,CACjB,MAAc,EACd,IAA6C;QAE7C,yBAAyB;QACzB,MAAM,SAAS,GAA4C,EAAE,CAAC;QAC9D,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ;YAAE,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC1E,IAAI,OAAO,IAAI,CAAC,gBAAgB,KAAK,SAAS;YAC5C,SAAS,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACrD,IAAI,OAAO,IAAI,CAAC,iBAAiB,KAAK,SAAS;YAC7C,SAAS,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACvD,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,SAAS;YACxC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC7C,IAAI,OAAO,IAAI,CAAC,cAAc,KAAK,SAAS;YAC1C,SAAS,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QACjD,IAAI,OAAO,IAAI,CAAC,aAAa,KAAK,SAAS;YACzC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAC/C,OAAO,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,EAAE,MAAM,EAAE;YACjB,IAAI,EAAE,SAAS;SAChB,CAAC,CAAC;IACL,CAAC;CACF;AAED,eAAe,iBAAiB,CAAC","debug_id":"91a8b0db-cfff-59bc-a42e-b891b719965e"}