{"version":3,"file":"Contacts.js","sources":["src/models/Contacts.ts"],"sourceRoot":"/","sourcesContent":["import prisma from \"../lib/prisma.js\";\nimport type { Prisma } from \"../../generated/prisma/index.js\";\n\nexport class ContactsModel {\n  static async upsert(userId: string, data: Partial<Prisma.ContactsUpdateInput>) {\n    // Build createData with only allowed fields and correct types\n    const createData: Prisma.ContactsCreateInput = {\n      User: { connect: { id: userId } },\n    };\n    if (typeof data.phoneNumber === 'string') createData.phoneNumber = data.phoneNumber;\n    if (typeof data.emergencyContact === 'string') createData.emergencyContact = data.emergencyContact;\n    if (typeof data.emergencyContactNumber === 'string') createData.emergencyContactNumber = data.emergencyContactNumber;\n    // Only include defined fields in update\n    const updateData: Partial<Prisma.ContactsUpdateInput> = {};\n    if (typeof data.phoneNumber === 'string') updateData.phoneNumber = data.phoneNumber;\n    if (typeof data.emergencyContact === 'string') updateData.emergencyContact = data.emergencyContact;\n    if (typeof data.emergencyContactNumber === 'string') updateData.emergencyContactNumber = data.emergencyContactNumber;\n    return prisma.contacts.upsert({\n      where: { userId },\n      update: updateData,\n      create: createData,\n    });\n  }\n}\n\nexport default ContactsModel;\n"],"names":[],"mappings":";;AAAA,OAAO,MAAM,MAAM,kBAAkB,CAAC;AAGtC,MAAM,OAAO,aAAa;IACxB,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,MAAc,EAAE,IAAyC;QAC3E,8DAA8D;QAC9D,MAAM,UAAU,GAA+B;YAC7C,IAAI,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE;SAClC,CAAC;QACF,IAAI,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ;YAAE,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpF,IAAI,OAAO,IAAI,CAAC,gBAAgB,KAAK,QAAQ;YAAE,UAAU,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACnG,IAAI,OAAO,IAAI,CAAC,sBAAsB,KAAK,QAAQ;YAAE,UAAU,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;QACrH,wCAAwC;QACxC,MAAM,UAAU,GAAwC,EAAE,CAAC;QAC3D,IAAI,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ;YAAE,UAAU,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpF,IAAI,OAAO,IAAI,CAAC,gBAAgB,KAAK,QAAQ;YAAE,UAAU,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;QACnG,IAAI,OAAO,IAAI,CAAC,sBAAsB,KAAK,QAAQ;YAAE,UAAU,CAAC,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC;QACrH,OAAO,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC5B,KAAK,EAAE,EAAE,MAAM,EAAE;YACjB,MAAM,EAAE,UAAU;YAClB,MAAM,EAAE,UAAU;SACnB,CAAC,CAAC;IACL,CAAC;CACF;AAED,eAAe,aAAa,CAAC","debug_id":"f3baad2e-43a9-50b8-b78d-9bcda37646b5"}